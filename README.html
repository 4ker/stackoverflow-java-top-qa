<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>README</title>
<!-- 2017-10-03 Tue 14:12 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="TANG ZhiXiong" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="http://www.pirilampo.org/styles/bigblow/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="http://www.pirilampo.org/styles/bigblow/css/bigblow.css"/>
<link rel="stylesheet" type="text/css" href="http://www.pirilampo.org/styles/bigblow/css/hideshow.css"/>
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github-gist.min.css">
<script type="text/javascript" src="http://www.pirilampo.org/styles/bigblow/js/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="http://www.pirilampo.org/styles/bigblow/js/jquery-ui-1.10.2.min.js"></script>
<script type="text/javascript" src="http://www.pirilampo.org/styles/bigblow/js/jquery.localscroll-min.js"></script>
<script type="text/javascript" src="http://www.pirilampo.org/styles/bigblow/js/jquery.scrollTo-1.4.3.1-min.js"></script>
<script type="text/javascript" src="http://www.pirilampo.org/styles/bigblow/js/jquery.zclip.min.js"></script>
<script type="text/javascript" src="http://www.pirilampo.org/styles/bigblow/js/bigblow.js"></script>
<script type="text/javascript" src="http://www.pirilampo.org/styles/bigblow/js/hideshow.js"></script>
<script type="text/javascript" src="http://www.pirilampo.org/styles/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<link rel="stylesheet" type="text/css" href="http://tangzhixiong.com/readings/css/main.css"/>
<script type="text/javascript" src="http://tangzhixiong.com/readings/javascript/main.js"></script>
<script>$(function(){ /*todo*/ });</script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">README</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. stackoverflow-Java-top-qa</a>
<ul>
<li><a href="#sec-1-1">1.1. 一些基本的约定</a></li>
<li><a href="#sec-1-2">1.2. 每个人可以做（但不限于）</a></li>
<li><a href="#sec-1-3">1.3. 文档优化反馈</a></li>
<li><a href="#sec-1-4">1.4. 目录</a>
<ul>
<li><a href="#sec-1-4-1">1.4.1. <code>[32/38]</code> 基础语法</a></li>
<li><a href="#sec-1-4-2">1.4.2. <code>[8/21]</code> 编程技巧</a></li>
<li><a href="#sec-1-4-3">1.4.3. 网络</a></li>
<li><a href="#sec-1-4-4">1.4.4. 性能</a></li>
<li><a href="#sec-1-4-5">1.4.5. 测试</a></li>
<li><a href="#sec-1-4-6">1.4.6. Android</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> stackoverflow-Java-top-qa</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> 一些基本的约定</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>文档的文件名，和 <code>stackoverflowhich-notnull-java-annotation-should-i-usew</code> 上 的 url 保持一致。
例如， <code>http://stackoverflow.com/questions/8710619/java-operator</code> 的文件名， 就是 <code>java-operator.md</code>
</li>
<li>在每篇翻译文档内容的最后，要附上 stackoverflow 的原文链接
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> 每个人可以做（但不限于）</h3>
<div class="outline-text-3" id="text-1-2">
<ul class="org-ul">
<li>找未翻译的问题进行翻译
</li>
<li>优化已翻译的问题
</li>
<li>输出问答精简汇总版（把所有的问答集中到一个 md
文件，然后尽量精简，让别人可 以在一天内把这 100 个问题的精髓都看完）
</li>
<li>输出 gitbook 版本（现在直接在 github 上查看，体验不好）
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> 文档优化反馈</h3>
<div class="outline-text-3" id="text-1-3">
<p>
请大家多多反馈，优化已翻译好的文章：可以到 <a href="https://github.com/giantray/stackoverflow-java-top-qa/issues/66">吐槽区</a> 吐槽， 也可以在已翻
译文章基础上进行优化，提新的 PR。文章质量的提升，需要大家一起努力！
</p>
</div>
</div>
<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> 目录</h3>
<div class="outline-text-3" id="text-1-4">
</div><div id="outline-container-sec-1-4-1" class="outline-4">
<h4 id="sec-1-4-1"><span class="section-number-4">1.4.1</span> <code>[32/38]</code> 基础语法</h4>
<div class="outline-text-4" id="text-1-4-1">
<ul class="org-ul">
<li><code>[X]</code> <a href="contents/java-operator.md">Java += 操作符实质</a>
</li>
<li><code>[X]</code> <a href="contents/read-convert-an-inputstream-to-a-string.md">将 Inputstream 转换为 String</a>
  Apache commons IOUtils

<div class="org-src-container">

<pre class="src src-java">// method 1
StringWriter writer = new StringWriter();
IOUtils.copy(inputStream, writer, encoding);
String theString = writer.toString();

// method 2
String theString = IOUtils.toString(inputStream, encoding);

// method 3
static String convertStreamToString(java.io.InputStream is) {
    java.util.Scanner s = new java.util.Scanner(is).useDelimiter("\\A");
    return s.hasNext() ? s.next() : "";
}
</pre>
</div>
</li>
<li><code>[X]</code> <a href="contents/create-arraylist-from-array.md">将数组转换为 List</a>
<div class="org-src-container">

<pre class="src src-java">// method 1
new ArrayList&lt;Element&gt;(Arrays.asList(array));

// 定长, 不能 add, remove (搞得跟 array 就一样了)
// method 2
Arrays.asList(array);
// method 3
Arrays.asList(new Element(1),new Element(2),new Element(3));
</pre>
</div>
</li>
<li><code>[X]</code> <a href="contents/iterate-through-a-hashmap.md">如何遍历 map 对象</a>
<div class="org-src-container">

<pre class="src src-java">// method 1: entrySet
Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();
for(Map.Entry&lt;Integer, Integer&gt; entry : map.entrySet()){
    System.out.println("key = " + entry.getKey() + ", value = " + entry.getValue())
}

// method 2: keySet(), values()

// method 3: iterator
Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();
Iterator&lt;Map.Entry&lt;Integer, Integer&gt;&gt; entries = map.entrySet().iterator();
while (entries.hasNext()) {
    Map.Entry&lt;Integer, Integer&gt; entry = entries.next();
    System.out.println("Key = " + entry.getKey() + ", Value = " + entry.getValue());
}

// method 4: 迭代 keys 并搜索 values（低效的）
</pre>
</div>
</li>
<li><code>[&#xa0;]</code> <a href="contents/in-java-whats-the-difference-between-public-default-protected-and-private.md">public，protected，private，不加修饰符。有什么区别呢？</a>
</li>
<li><code>[X]</code> <a href="contents/how-can-i-test-if-an-array-contains-a-certain-value.md">如何测试一个数组是否包含指定的值？</a>
<div class="org-src-container">

<pre class="src src-java">// method 1
Arrays.asList(...).contains(...)

// method 2
String[] fieldsToInclude = { "id", "name", "location" };
if ( ArrayUtils.contains( fieldsToInclude, "id" ) ) {
    // Do some stuff.
}

// method 3, for ordered list
Arrays.binarySearch(arr, targetValue);
</pre>
</div>
</li>
<li><code>[X]</code> <a href="contents/what-issues-should-be-considered-when-overriding-equals-and-hashcode-in-java.md">重写（Override）equlas 和 hashCode 方法时应考虑的问题</a>
<ul class="org-ul">
<li>equals() 定义了对象的相等关系（自反性、对称性、传递性）
</li>
<li>hashCode 只是尽量要求不重合
</li>
<li>equals 的对象, hashCode 也要一样, hashCode 一样, 不一定 equal
</li>
</ul>
</li>
<li><code>[X]</code> <a href="contents/breaking-out-of-nested-loops-in-java.md">从一个多层嵌套循环中直接跳出</a>
  break+label, 我觉得这个和 goto 就很类似了. 应当避免这样写.
</li>
<li><code>[X]</code> <a href="contents/converting-string-to-int-in-java.md">如何将 String 转换为 Int</a>
<ul class="org-ul">
<li>Integer.valueOf(str); ==&gt; Integer
</li>
<li>Integer.parseInt(str); ==&gt; int (possible NumberFormatException)
</li>
</ul>
</li>
<li><code>[X]</code> <a href="contents/how-to-split-a-string-in-java.md">如何分割（split）string 字符串</a>
<ul class="org-ul">
<li><code>String[] parts = string.split("-");</code>
</li>
<li>需要注意的是，该方法的参数是个正则表达式, 要注意对某些字符做转码。
例如，.在正则表达式中表示任意字符，因此，如果你要通过.号做分割，需要这样写，split("\\.")或者split(Pattern.quote("."))
</li>
</ul>
</li>
<li><code>[X]</code> <a href="contents/how-do-i-compare-strings-in-java.md">在 java 中如何对比（compare）string</a>
</li>
<li><code>[X]</code> <a href="contents/how-to-sort-a-mapkey-value-on-the-values-in-java.md">=Map&lt;Key,Value&gt;=基于 Value 值排序</a>
<ul class="org-ul">
<li>1: 使用 TreeMap，可以参考下面的代码

<p>
The TreeMap class implements the Map interface by using a tree. A
TreeMap provides an efficient means of storing key/value pairs in
sorted order, and allows rapid retrieval.
</p>
</li>
<li>2: 先通过 linkedlist 排好序，再放到 LinkedHashMap 中
</li>
</ul>
</li>
<li><code>[X]</code> <a href="contents/differences-between-hashmap-and-hashtable.md">HashMap 和 Hashtable 的区别</a>
<ul class="org-ul">
<li>Hashtable是同步的，加了synchronized锁，而HashMap不是
</li>
</ul>
</li>
<li><code>[X]</code> <a href="contents/how-to-concatenate-two-arrays-in-java.md">如何便捷地将两个数组合到一起</a>
<div class="org-src-container">

<pre class="src src-java">// method 1
ArrayUtils.addAll(T[], T...)

// method 2
public Foo[] concat(Foo[] a, Foo[] b) {
   int aLen = a.length;
   int bLen = b.length;
   Foo[] c= new Foo[aLen+bLen];
   System.arraycopy(a, 0, c, 0, aLen);
   System.arraycopy(b, 0, c, aLen, bLen);
   return c;
}

// method 3
public &lt;T&gt; T[] concatenate (T[] a, T[] b) {
    int aLen = a.length;
    int bLen = b.length;

    @SuppressWarnings("unchecked")
    T[] c = (T[]) Array.newInstance(a.getClass().getComponentType(), aLen+bLen);
    System.arraycopy(a, 0, c, 0, aLen);
    System.arraycopy(b, 0, c, aLen, bLen);

    return c;
}
// !!!! 注意，泛型的方案不适用于基本数据类型（int，boolean……)
</pre>
</div>
</li>
<li><code>[X]</code> <a href="contents/does-java-support-default-parameter-values.md">Java 是否支持默认的参数值</a>
<ul class="org-ul">
<li>builders: 使用创建者模式，你可以设定部分参数是有默认值，部分参数是可选的。如：
</li>
<li>方法（构造函数）重载
</li>
<li>null 的传递
</li>
<li>多参数方式
<div class="org-src-container">

<pre class="src src-java">void foo(String a, Integer... b) {
    Integer b1 = b.length &gt; 0 ? b[0] : 0;
    Integer b2 = b.length &gt; 1 ? b[1] : 0;
    //...
}

foo("a");
foo("a", 1, 2);
</pre>
</div>
<p>
如果不是同一类型, 就用 Object + cast .
</p>
</li>
<li>使用 Map 作为方法中的参数
</li>
</ul>
</li>
<li><code>[X]</code> <a href="contents/generating-random-integers-in-a-range-with-Java.md">Java 产生指定范围的随机数</a>
<ul class="org-ul">
<li>Math.random(): [0, 1)
</li>
<li>java.util.Random
</li>
<li>org.apache.commons.lang3.RandomUtils
</li>
</ul>
</li>
<li><code>[X]</code> <a href="contents/what-is-a-javabean-exactly.md">JavaBean 到底是什么</a>
  JavaBean 只是一个标准
<ul class="org-ul">
<li>所有的属性是私有的（通过 getters/setters 处理属性）
</li>
<li>一个公有的无参数的构造器
</li>
<li>实现了序列化（Serializable）
</li>
</ul>
<p>
另外，一个 JavaBean 类和一个普通的类没有语法区别，如果遵循上面的标准
的话，一个类可以认为成 JavaBean 类。
</p>

<p>
之所以需要 JavaBean，是因为这样预定义了一种类的格式，一些库能依据这
个约定的格式，来做一些自动化处理。举个例子，如果一个类库需要通过流来
处理你传递的任何对象，它知道它可以正常处理，因为这个对象是可序列化的。
（假设这个类库要求你的对象是 JavaBeans）
</p>
</li>
<li><code>[&#xa0;]</code> <a href="contents/difference-between-wait-and-sleep.md">wait() 和 sleep() 的区别</a>
</li>
<li><code>[X]</code> <a href="contents/how-do-i-call-one-constructor-from-another-in-java.md">能否在一个构造器中调用另一个构造器</a>
<div class="org-src-container">

<pre class="src src-java">public class Foo {
    private int x;

    public Foo() {
        this(1);
    }

    public Foo(int x) {
        this.x = x;
    }
}
</pre>
</div>

<p>
请注意，在构造器中，你只能调用一次其他的构造器。并且调用其他构造器的
语句，必须是这个构造器的第一个语句。
</p>
</li>
<li><code>[X]</code> <a href="contents/does-finally-always-execute-in-java.md"><code>finally</code> 代码块总会被执行么</a>
<div class="org-src-container">

<pre class="src src-java">try {
    something();
    return success;
} catch (Exception e) {
    return failure;
} finally {
    System.out.println("i don't know if this will get printed out.");
}
// 只有以下情况 finally 不会被调用：
//     +    当你使用 System.exit() 后
//     +    其他线程干扰了现在运行的线程（通过 interrupt 方法）
//     +    JVM 崩溃 (crash) 了
</pre>
</div>
</li>
<li><code>[X]</code> <a href="contents/convert-a-string-to-an-enum-in-java.md">如何将 String 转换为 enum</a>
<ul class="org-ul">
<li>Blah.valueOf("A") 将会得到 Blah.A
</li>
<li>静态方法 valueOf() 和 values() 不存在于源码中，而是在编译时创建
</li>
<li>hack
<div class="org-src-container">

<pre class="src src-java">public static &lt;T extends Enum&lt;T&gt;&gt; T getEnumFromString(Class&lt;T&gt; c, String string) {
    if( c != null &amp;&amp; string != null ) {
        try {
            return Enum.valueOf(c, string.trim().toUpperCase());
        } catch(IllegalArgumentException ex) {}
    }
    return null;
}

public enum MyEnum {
    ...
    public static MyEnum fromString(String name) {
        return getEnumFromString(MyEnum.class, name);
    }
    ...
}
</pre>
</div>
</li>
</ul>
</li>
<li><code>[X]</code> <a href="contents/declare-array-in-java.md">在 Java 中声明数组</a>
<div class="org-src-container">

<pre class="src src-java">// primtive type
int[] myIntArray = new int[3];
int[] myIntArray = {1, 2, 3};
int[] myIntArray = new int[]{1, 2, 3};

// string
String[] myStringArray = new String[3];
String[] myStringArray = {"a", "b","c"};
String[] myStringArray = new String[]{"a", "b", "c"};
</pre>
</div>
</li>
<li><code>[X]</code> <a href="contents/what-is-reflection-and-why-is-it-useful.md">反射是什么及其用途</a>
<div class="org-src-container">

<pre class="src src-java">Method method = foo.getClass().getMethod("dosomething",null);
method.invoke(foo,null);  //调用foo的dosomething方法
</pre>
</div>

<p>
可以看看我的这个笔记 <a href="https://github.com/4ker/JavaAOP">https://github.com/4ker/JavaAOP</a>
</p>
</li>
<li><code>[X]</code> <a href="contents/why-cant-i-switch-on-a-string.md">为什么不能用 string 类型进行 switch 判断</a>
  在 JDK7 中，这个特性已经实现了。在编译阶段，以 string 作为 case 值的代码，会按照特定的模式，被转换为更加复杂的代码。最终的执行代码将是一些使用了 JVM 指令的代码。

<p>
这是在说, java 7 之前是不可以的.
</p>
</li>
<li><code>[X]</code> <a href="contents/comparing-java-enum-members-or-equals.md">比较 java 枚举成员使用 equal 还是 ==</a>
<ul class="org-ul">
<li>如果你看过枚举的源码，你会发现在源码中，equals 也仅仅非常简单的 ==
</li>
<li>其实很简单, 因为 Enum 的 valueOf 方法是从自己的备选项里面枚举, 找到那个 enum 取出来的, 所以内存位置也是一样的.
</li>
<li>还有一个区别是 null.equals 可能有风险, == 则没有
</li>
<li>总而言之，在枚举比较上使用 == ， 因为：
<ul class="org-ul">
<li>能正常工作
</li>
<li>更快
</li>
<li>运行时是安全的
</li>
<li>编译期也是安全的
</li>
</ul>
</li>
</ul>
</li>
<li><code>[X]</code> <a href="contents/how-to-create-a-file-and-write-to-a-file-in-java.md">用 java 怎么创建一个文件并向该文件写文本内容</a>
<div class="org-src-container">

<pre class="src src-java">// TEXT FILE
// method 1: print writer, text file
PrintWriter writer = new PrintWriter("the-file-name.txt", "UTF-8");
writer.println("The first line");
writer.println("The second line");
writer.close();
// method 2: array of lines to file
List&lt;String&gt; lines = Arrays.asList("The first line", "The second line");
Path file = Paths.get("the-file-name.txt");
Files.write(file, lines, Charset.forName("UTF-8"));
//Files.write(file, lines, Charset.forName("UTF-8"), StandardOpenOption.APPEND);

// BINARY
// method 3: FileOutputStream, binary
byte data[] = ...
FileOutputStream out = new FileOutputStream("the-file-name");
out.write(data);
out.close();
// method 4: FileOutputStream, binary
Path file = Paths.get("the-file-name");
Files.write(file, data);
</pre>
</div>
</li>
<li><code>[X]</code> <a href="contents/what-is-a-serialversionuid-and-why-should-i-use-it.md">serialVersionUID 有什么作用？该如何使用？</a>
<ul class="org-ul">
<li>对象的序列化主要有两种用途:
<ul class="org-ul">
<li>把对象序列化成字节码，保存到指定介质上 (如磁盘等)
</li>
<li>用于网络传输
</li>
</ul>
</li>
<li>可当我们增加 email 字段后，不作向后兼容。即放弃原来序列化到磁盘的 Person 类，这时我们可以将版本标识提高
</li>
<li>serialVersionUID 就是控制版本是否兼容的，若我们认为修改的 Person 是向后兼容的，
则不修改 serialVersionUID；反之，则提高 serialVersionUID 的值。再回到一开始的问题
</li>
</ul>
</li>
<li><code>[X]</code> <a href="contents/why-is-java-vector-class-considered-obsolete-or-deprecated.md">为什么 Java 的 <code>Vector</code> 类被认为是过时的或者废弃的</a>
<ul class="org-ul">
<li>Vector 中对每一个独立操作都实现了同步，这通常不是我们想要的做法。
</li>
<li>总的来说，在大多数情况下，这种同步方法是存在很大缺陷的。正如 Mr Brain Henk 指出，
你可以通过调用Collections.synchronizedList来装饰一个集合 - 事实上 Vector 将 “可变数组” 的集合实现
与 “同步每一个方法” 结合起来的做法是另一个糟糕的设计；
</li>
</ul>
</li>
<li><code>[X]</code> <a href="contents/how-does-the-java-for-each-loop-work.md">Java 的 foreach 循环是如何工作的</a>
  用了 iterator
<div class="org-src-container">

<pre class="src src-java">// for (String item : someList) {System.out.println(item);}
for(Iterator&lt;String&gt; i = someList.iterator(); i.hasNext(); ) {
    String item = i.next();
    System.out.println(item);
}
</pre>
</div>
</li>
<li><code>[X]</code> <a href="file:///why-is-subtracting-these-two-times-in-1927-giving-a-strange-result.md">为什么相减这两个时间（1927 年）会得到奇怪的结果</a>
这是因为 1927 年 11 月 31 日上海的时区改变了。 观看此页获得更多关于
上海 1927 年的细节。 这个问题主要是由于在 1927 年 12 月 31 日的午夜，
时钟回调了 5 分钟零 52 秒。 所以 "1927-12-31 23:54:08" 这个时间实际
上发生了两次，看上去 java 将这个时间解析为之后的那个瞬间。 因此出现
了这种差别。

<p>
这只是美好但奇怪的世界时区中的一个插曲。
</p>

<p>
Shanghai Municipality (<i>mjʊ'nɪsə'pæləti</i>) 自治市
</p>

<p>
Daylight Saving Time (DST) Not Observed in Year 1927
Shanghai observed China Standard Time (CST) all year.
</p>

<p>
DST was not in use in 1927.
</p>
</li>
<li><code>[&#xa0;]</code> <a href="contents/when-and-how-should-i-use-a-threadlocal-variable.md">该什么时候使用 ThreadLocal 变量，它是如何工作的</a>
  一种可能的（也是常见的）使用情形是你不想通过同步方式（synchronized）访问非线程安全的对象（说的就是 SimpleDateFormat）, 而是想给每个线程一个对象实例的时候。 例如
<div class="org-src-container">

<pre class="src src-java">public class Foo
{
    // SimpleDateFormat is not thread-safe, so give one to each thread
    private static final ThreadLocal&lt;SimpleDateFormat&gt; formatter = new ThreadLocal&lt;SimpleDateFormat&gt;(){
        @Override
        protected SimpleDateFormat initialValue() {
            return new SimpleDateFormat("yyyyMMdd HHmm");
        }
    };

    public String formatIt(Date date) {
        return formatter.get().format(date);
    }
}
</pre>
</div>
</li>
<li><code>[&#xa0;]</code> <a href="contents/how-do-servlets-work-instantiation-shared-variables-and-multithreading.md">servlets 的运行原理</a>
</li>
<li><code>[X]</code> <a href="contents/how-can-i-generate-an-md5-hash.md">如何计算 MD5 值</a>
使用 MessageDigest 和 String 时，一定要显式声明你的数据编码类型。如
果你使用无参的 String.getBytes() , 它会以当前平台的默认编码来转换数
据。不同平台的默认编码可能是不同的，这可能会导致你的数据不一致。
<div class="org-src-container">

<pre class="src src-java">import java.security.*;

...
byte[] bytesOfMessage = yourString.getBytes("UTF-8");
MessageDigest md = MessageDigest.getInstance("MD5");
byte[] thedigest = md.digest(bytesOfMessage);
</pre>
</div>
<p>
如果你的要计算的数据量很大，你可以循环使用 .update(byte[]) 方法来加载数据。加载完毕后用 .digest() 方法来得到计算出的 MD5 值。
</p>
</li>
<li><code>[&#xa0;]</code> <a href="contents/what-is-the-difference-between-a-soft-reference-and-a-weak-reference-in-java.md">Java 中软引用和弱引用的区别</a>
</li>
<li><code>[&#xa0;]</code> <a href="contents/what-is-the-difference-between-jsf-servlet-and-jsp.md">JSF, Servlet 和 JSP</a>
</li>
<li><code>[X]</code> <a href="contents/java-inner-class-and-static-nested-class.md">Java 内部类和嵌套静态类</a>
  因此, 要实例化一个内部类对象, 必须先实例化外部类对象. 然后用这种语法来创建内部类对象:

<div class="org-src-container">

<pre class="src src-java">OuterClass.InnerClass innerObject = outerObject.new InnerClass();
</pre>
</div>

<p>
这是什么鬼&#x2026;
</p>

<div class="org-src-container">

<pre class="src src-java">class A {
    int t() { return 1; }
    static A a =  new A() { int t() { return 2; } };
}
</pre>
</div>
</li>
<li><code>[X]</code> <a href="contents/whats-the-difference-between-component-repository-service-annotations-in.md"><code>@Component</code>, <code>@Repository</code>, <code>@Service</code> 的区别</a>
  在 spring 集成的框架中，注解在类上的@Component，@Repository，@Service等注解能否被互换？或者说这些注解有什么区别？

<p>
在 Spring2.0 之前的版本中，@Repository注解可以标记在任何的类上，用来
表明该类是用来执行与数据库相关的操作（即 dao 对象），并支持自动处理
数据库操作产生的异常
</p>

<p>
在 Spring2.5 版本中，引入了更多的 Spring 类注解：
@Component,@Service,@Controller。Component是一个通用的 Spring 容器管
理的单例 bean 组件。而@Repository, @Service, @Controller就是针对不同
的使用场景所采取的特定功能化的注解组件。
</p>

<p>
因此，当你的一个类被@Component所注解，那么就意味着同样可以用
@Repository, @Service, @Controller来替代它，同时这些注解会具备有更多
的功能，而且功能各异。
</p>

<p>
最后，如果你不知道要在项目的业务层采用@Service还是@Component注解。那
么，@Service是一个更好的选择。
</p>

<p>
&#x2014;
</p>

<p>
这几个注解几乎可以说是一样的：因为被这些注解修饰的类就会被 Spring 扫
描到并注入到 Spring 的 bean 容器中。
</p>

<p>
这里，有两个注解是不能被其他注解所互换的：
</p>
<ul class="org-ul">
<li>@Controller 注解的 bean 会被 spring-mvc 框架所使用。
</li>
<li>@Repository 会被作为持久层操作（数据库）的 bean 来使用
</li>
</ul>
</li>
<li><code>[X]</code> <a href="contents/how-to-create-a-generic-array-in-java.md">如何创建泛型 java 数组</a>
<div class="org-src-container">

<pre class="src src-java">public class GenSet&lt;E&gt; {
    private E[] a;

    public GenSet(Class&lt;E&gt; c, int s) {
        // 使用原生的反射方法，在运行时知道其数组对象类型
        @SuppressWarnings("unchecked")
        final E[] a = (E[]) Array.newInstance(c, s);
        this.a = a;
    }

    E get(int i) {
        return a[i];
    }

    //...如果传入参数不为E类型，那么强制添加进数组将会抛出异常
    void add(E e) {...}
}
</pre>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-4-2" class="outline-4">
<h4 id="sec-1-4-2"><span class="section-number-4">1.4.2</span> <code>[8/21]</code> 编程技巧</h4>
<div class="outline-text-4" id="text-1-4-2">
<ul class="org-ul">
<li><code>[X]</code> <a href="contents/avoiding-null-statements-in-java.md">去掉烦人的 =!=null=（判空语句）</a>

<p>
用 Java 8 的 Optional 啊! 懒得看了.
</p>
</li>
<li><code>[X]</code> <a href="contents/get-current-stack-trace-in-java.md">获取完整的堆栈信息</a>

<p>
捕获了异常后，如何获取完整的堆栈轨迹（stack trace）
</p>
<div class="org-src-container">

<pre class="src src-java">// method 1
String fullStackTrace = org.apache.commons.lang.exception.ExceptionUtils.getFullStackTrace(e);

// method 2
Thread.currentThread().getStackTrace();
</pre>
</div>
</li>
<li><code>[X]</code> <a href="contents/initialization-of-an-arraylist-in-one-line.md">如何用一行代码初始化一个 ArrayList</a>
<div class="org-src-container">

<pre class="src src-java">// good
ArrayList&lt;String&gt; places = new ArrayList&lt;String&gt;(
    Arrays.asList("Buenos Aires", "Córdoba", "La Plata"));

// works too. 匿名内部类
ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;() {{
    add("A");
    add("B");
    add("C");
}};
</pre>
</div>
</li>
<li><code>[X]</code> <a href="contents/how-can-i-initialize-a-static-map.md">初始化静态 map</a>

<div class="org-src-container">

<pre class="src src-java">// 我使用static初始化器来创建一个固定长度的静态map
public class Test{
    private static final Map&lt;Integer, String&gt; myMap;
    static {
        Map&lt;Integer, String&gt; aMap = ...;
        aMap.put(1,"one");
        aMap.put(2,"two");
<span id="coderef-h1507011118" class="coderef-off">        myMap = Collections.unmodifiableMap(aMap);</span>
    }
}

// 我喜欢用Guava（是 Collection 框架的增强）的方法初始化一个静态的，不可改变的map
static fianl Map&lt;Integer, String&gt; myMap = ImmutablMap.of(
    1，"one",
    2, "two"
)

// build
static fianl Map&lt;Integer, String&gt; myMap =
        new ImmutableMap.Builder&lt;String, Integer&gt;()
                .put("one", 1)
                .put("two", 2)
                .put("three", 3)
                .build();
</pre>
</div>
</li>
<li><code>[X]</code> <a href="contents/check-if-at-least-two-out-of-three-booleans-are-true.md">给 3 个布尔变量，当其中有 2 个或者 2 个以上为 true 才返回 true</a>

<p>
这个智障答案&#x2026;
</p>

<p>
我觉得 <code>return ((a &amp;&amp; b) || (b &amp;&amp; c) || (a &amp;&amp; c))</code> 是最好的.
</p>
</li>
<li><code>[X]</code> <a href="contents/whats-the-simplest-way-to-print-a-java-array.md">输出 Java 数组最简单的方式</a>
<div class="org-src-container">

<pre class="src src-java">int[] intArray = new int[] {1, 2, 3, 4, 5};
System.out.println(Arrays.toString(intArray));
//输出: [1, 2, 3, 4, 5]

String[] strArray = new String[] {"John", "Mary", "Bob"};
System.out.println(Arrays.deepToString(strArray));
//输出: [John, Mary, Bob]

// Arrays.deepToString与Arrays.toString不同之处在于，Arrays.deepToString更适合打印多维数组
</pre>
</div>
</li>
<li><code>[X]</code> <a href="contents/why-is-char-preferred-over-string-for-passwords-in-java.md">什么在 java 中存放密码更倾向于 <code>char</code> 而不是 String</a>

<p>
String是不可变的。虽然String加载密码之后可以把这个变量扔掉，但是字符
串并不会马上被GC回收，一但进程在GC执行到这个字符串之前被dump，dump出
的的转储中就会含有这个明文的字符串。那如果我去“修改”这个字符串，比如
把它赋一个新值，那么是不是就没有这个问题了？答案是否定的，因为String
本身是不可修改的，任何基于String的修改函数都是返回一个新的字符串，原
有的还会在内存里。
</p>

<p>
然而对于数组，你可以在抛弃它之前直接修改掉它里面的内容或者置为乱码，
密码就不会存在了。但是如果你什么也不做直接交给gc的话，也会存在上面一
样的问题。
</p>

<p>
所以，这是一个安全性的问题&#x2013;但是，即使使用char[]也仅仅是降低了攻击者
攻击的机会，而且仅仅对这种特定的攻击有效。
</p>
</li>
<li><code>[&#xa0;]</code> <a href="contents/how-to-avoid-java-code-in-jsp-files.md">如何避免在 JSP 文件中使用 Java 代码</a>
</li>
<li><code>[&#xa0;]</code> <a href="contents/examples-of-gof-design-patterns-in-javas-core-libraries.md">Java 源码里的设计模式</a>
</li>
<li><code>[&#xa0;]</code> <a href="contents/how-to-generate-a-random-alpha-numeric-string.md">如何产生一个随机的字母数字串作为 session 的唯一标识符</a>

<p>
如果允许产生的随机字符串是可猜测的(随机字符串比较都短,或者使用有缺陷
的随机数生成器),进而导致攻击者可能会劫持到会话的,可以使用一个相对简
单随机数生成代码,如下所示:
</p>
</li>
<li><code>[&#xa0;]</code> <a href="contents/what-is-an-efficient-way-to-implement-a-singleton-in-java.md">如何创建单例</a>
<div class="org-src-container">

<pre class="src src-java">// 预加载
public class Foo {

    private static final Foo INSTANCE = new Foo();

    private Foo() {
        if (INSTANCE != null) {
            throw new IllegalStateException("Already instantiated");
        }
    }

    public static Foo getInstance() {
        return INSTANCE;
    }
}

// 懒加载
class Foo {

    private static Foo INSTANCE = null;

    private Foo() {
        if (INSTANCE != null) {
            throw new IllegalStateException("Already instantiated");
        }
    }

    public static Foo getInstance() {
        if (INSTANCE == null) {
            INSTANCE = new Foo();
        }
        return INSTANCE;
    }
}
</pre>
</div>
</li>
<li><code>[X]</code> <a href="contents/implements-runnable-vs-extends-thread.md">实现 Runnable 接口 VS. 继承 Thread 类</a>

<p>
在Java中，并发执行任务一般有两种方式：
</p>
<ul class="org-ul">
<li>实现Runnable接口
</li>
<li>继承Thread类
</li>
</ul>
<p>
一般而言，推荐使用方式（1）,主要是由于大多数情况下，人们并不会特别去
关注线程的行为，也不会去改写Thread已有的行为或方法，仅仅是期望执行任
务而已。 因此，使用接口的方式能避免引入一些并不需要的东西，同时也不
会影响继承其他类，并使程序更加灵活。
</p>

<p>
额外的tips：
</p>
<ul class="org-ul">
<li>Runnable与Thread不是对等的概念

<p>
在Thinking in Java中，作者吐槽过Runnable的命名，称其叫做Task更为合理。
在Java中，Runnable只是一段用于描述任务的代码段而已，是静态的概念，需要通过线程来执行。而Thread更像是一个活体，自身就具有很多行为，能够用来执行任务。
</p>
</li>
<li>仅仅当你确实想要重写（override）一些已有行为时，才使用继承，否则请使用接口。
</li>
<li>在Java 5之前，创建了Thread却没调用其start()方法，可能导致内存泄露。
</li>
</ul>
</li>
<li><code>[&#xa0;]</code> <a href="contents/which-notnull-java-annotation-should-i-use.md">我应该用哪一个 <code>@NotNull</code> 注解</a>
</li>
<li><code>[&#xa0;]</code> <a href="contents/how-can-i-convert-a-stack-trace-to-a-string.md">怎样将堆栈追踪信息转换为字符串</a>
</li>
<li><code>[&#xa0;]</code> <a href="contents/dealing-with-java-lang-outofmemoryerror-permgen-space-error.md">如何处理 java.lang.outOfMemoryError PermGen space error</a>
</li>
<li><code>[&#xa0;]</code> <a href="contents/how-can-i-pad-an-integers-with-zeros-on-the-left.md">如何在整数左填充 0</a>
</li>
<li><code>[&#xa0;]</code> <a href="contents/is-null-check-needed-before-calling-instanceof.md">在调用 instanceof 前需要进行 null 检查吗</a>
</li>
<li><code>[&#xa0;]</code> <a href="contents/how-do-i-create-a-java-string-from-the-contents-of-a-file.md">如何从文件里读取字符串</a>
</li>
<li><code>[&#xa0;]</code> <a href="contents/iterating-through-a-collection-avoiding-concurrentmodificationexception-when-reiterating-through-a-collection-avoiding-concurrentmodificationexception-when-re.md">遍历集合时移除元素，怎样避免 ConcurrentModificationException 异常抛出</a>
</li>
<li><code>[&#xa0;]</code> <a href="contents/how-can-i-permanently-have-line-numbers-in-intellij.md">如何让 IntelliJ 编辑器永久性显示代码行数</a>
</li>
<li><code>[&#xa0;]</code> <a href="contents/how-can-i-create-an-executable-jar-with-dependencies-using-maven.md">如何使用 maven 把项目及其依赖打包为可运行 jar 包</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-4-3" class="outline-4">
<h4 id="sec-1-4-3"><span class="section-number-4">1.4.3</span> 网络</h4>
<div class="outline-text-4" id="text-1-4-3">
<ul class="org-ul">
<li><a href="contents/using-java-net-urlconnection-to-fire-and-handle-http-requests.md">如何使用 java.net.URLConnection 接收及发送 HTTP 请求</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-4-4" class="outline-4">
<h4 id="sec-1-4-4"><span class="section-number-4">1.4.4</span> 性能</h4>
<div class="outline-text-4" id="text-1-4-4">
<ul class="org-ul">
<li><a href="contents/when-to-use-linkedlist-over-arraylist.md">LinkedList、ArrayList 各自的使用场景，如何确认应该用哪一个呢？</a>
</li>
<li><a href="contents/stringbuilder-and-stringbuffer.md">StringBuilder 和 StringBuffer 有哪些区别呢</a>
</li>
<li><a href="contents/why-is-processing-a-sorted-array-faster-than-an-unsorted-array.md">为什么处理排序的数组要比非排序的快</a>
</li>
<li><a href="contents/creating-a-memory-leak-with-java.md">如何使用 Java 创建一个内存泄漏的程序</a>
</li>
<li><a href="contents/why-is-printing-b-dramatically-slower-than-printing.md">为什么打印“B”会明显的比打印“#”慢</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-4-5" class="outline-4">
<h4 id="sec-1-4-5"><span class="section-number-4">1.4.5</span> 测试</h4>
<div class="outline-text-4" id="text-1-4-5">
<ul class="org-ul">
<li><a href="contents/how-to-test-a-class-that-has-private-methods-fields-or-inner-classes.md">如何测试 private 方法，变量或者内部类</a>
</li>
<li><a href="contents/how-do-you-assert-that-a-certain-exception-is-thrown-in-junit-4-tests.md">JUnit4 如何断言确定异常的抛出</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-4-6" class="outline-4">
<h4 id="sec-1-4-6"><span class="section-number-4">1.4.6</span> Android</h4>
<div class="outline-text-4" id="text-1-4-6">
<ul class="org-ul">
<li><a href="contents/download-a-file-with-android-and-showing-the-progress-in-a-progressdialog.md">在 Android 里面下载文件，并在 ProgressDialog 显示进度</a>
</li>
<li><a href="contents/is-there-a-unique-android-device-id.md">如何获取 Android 设备唯一 ID</a>
</li>
<li><a href="contents/android-sdk-installation-doesnt-find-jdk.md">安装 Android SDK 的时候找不到 JDK</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: TANG ZhiXiong</p>
<p class="date">Created: 2017-10-03 Tue 14:12</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.3.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
